<div class="container">
  <label class="mt-4 mb-4 lead bg-light">投稿詳細画面</label>
  <div class="row">
    <div class="col-md-4">
      <%= image_tag @post.imgage %>
      <div id="map"></div>
      <style>
        #map {
            height: 400px;
            width: 400px;
        }
      </style>
      <script>
        function initMap() {

        var test ={lat: <%= @map.latitude %>, lng: <%= @map.longitude %>};
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 15,
            center: {
                    lat: 35.6458437,
                    lng: 139.7046171
                },
        });
        var transitLayer = new google.maps.TransitLayer();
        transitLayer.setMap(map);

        var contentString = '住所：<%= @map.address %>';
        var infowindow = new google.maps.InfoWindow({
            content: contentString
        });

        var marker = new google.maps.Marker({
            position:test,
            map: map,
            title: contentString
        });

        marker.addListener('click', function() {
            infowindow.open(map, marker);
        });
    }
      </script>
      <script
        src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_KEY'] %>&callback=initMap"
        async defer>
      </script>
    </div>
    <div class="col-md-6">
      <div class="mb-5">
        <label>投稿名</label>
        <%= @post.post_name %>
      </div>
      <div class="mb-5">
        <label>投稿者</label>
        <%= @post.user.name %>
      </div>
      <div class="mb-5">
        <label>投稿日時</label>
        <%= l @post.created_at %>
      </div>
      <div class="mb-5">
        <label>ご意見・ご要望</label>
        <%= @post.introduction %>
      </div>
    </div>
  </div>
</div>